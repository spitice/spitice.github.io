"use strict";(self.webpackChunkweb_replay_tools=self.webpackChunkweb_replay_tools||[]).push([[196,238],{196:(e,t,r)=>{r.r(t),r.d(t,{FileHandle:()=>s});t=r(238);const{WritableStream:d,TransformStream:c,DOMException:a,Blob:h}=r(277).Z,n=t.errors["GONE"],p=/constructor/i.test(window.HTMLElement)||window.safari||window.WebKitPoint;class s{constructor(e="unkown"){this.name=e,this.kind="file"}async getFile(){throw new a(...n)}async isSameEntry(e){return this===e}async createWritable(e={}){const t=await navigator.serviceWorker?.getRegistration(),r=document.createElement("a");var a=new c,n=a.writable;if(r.download=this.name,p||!t){let t=[];a.readable.pipeTo(new d({write(e){t.push(new h([e]))},close(){var e=new h(t,{type:"application/octet-stream; charset=utf-8"});t=[],r.href=URL.createObjectURL(e),r.click(),setTimeout(()=>URL.revokeObjectURL(r.href),1e4)}}))}else{var{writable:s,readablePort:i}=new y(d),o=encodeURIComponent(this.name).replace(/['()]/g,escape).replace(/\*/g,"%2A"),e={"content-disposition":"attachment; filename*=UTF-8''"+o,"content-type":"application/octet-stream; charset=utf-8",...e.size?{"content-length":e.size}:{}};const l=setTimeout(()=>t.active.postMessage(0),1e4);a.readable.pipeThrough(new c({transform(e,t){if(e instanceof Uint8Array)return t.enqueue(e);const r=new Response(e).body.getReader(),a=e=>r.read().then(e=>e.done?0:a(t.enqueue(e.value)));return a()}})).pipeTo(s).finally(()=>{clearInterval(l)}),t.active.postMessage({url:t.scope+o,headers:e,readablePort:i},[i]);a=document.createElement("iframe");a.hidden=!0,a.src=t.scope+o,document.body.appendChild(a)}return n.getWriter()}}class i{constructor(e){e.onmessage=e=>this._onMessage(e.data),this._port=e,this._resetReady()}start(e){return this._controller=e,this._readyPromise}write(e){return this._port.postMessage({type:0,chunk:e},[e.buffer]),this._resetReady(),this._readyPromise}close(){this._port.postMessage({type:2}),this._port.close()}abort(e){this._port.postMessage({type:1,reason:e}),this._port.close()}_onMessage(e){0===e.type&&this._resolveReady(),1===e.type&&this._onError(e.reason)}_onError(e){this._controller.error(e),this._rejectReady(e),this._port.close()}_resetReady(){this._readyPromise=new Promise((e,t)=>{this._readyResolve=e,this._readyReject=t}),this._readyPending=!0}_resolveReady(){this._readyResolve(),this._readyPending=!1}_rejectReady(e){this._readyPending||this._resetReady(),this._readyPromise.catch(()=>{}),this._readyReject(e),this._readyPending=!1}}class y{constructor(e){var t=new MessageChannel;this.readablePort=t.port1,this.writable=new e(new i(t.port2))}}},238:(e,t,o)=>{o.r(t),o.d(t,{config:()=>a,errors:()=>r,fromDataTransfer:()=>async function(e){console.warn("deprecated fromDataTransfer - use `dt.items[0].getAsFileSystemHandle()` instead");const[t,r,a]=await Promise.all([o.e(403).then(o.bind(o,403)),o.e(38).then(o.bind(o,38)),Promise.resolve().then(o.bind(o,736))]),n=new t.FolderHandle("",!1);return n._entries=e.map(e=>new(e.isFile?r.FileHandle:r.FolderHandle)(e,!1)),new a.FileSystemDirectoryHandle(n)},getDirHandlesFromInput:()=>async function(e){const{FolderHandle:a,FileHandle:n}=await o.e(403).then(o.bind(o,403)),t=(await Promise.resolve().then(o.bind(o,736)))["FileSystemDirectoryHandle"],r=Array.from(e.files),s=r[0].webkitRelativePath.split("/",1)[0],i=new a(s,!1);return r.forEach(e=>{var t=e.webkitRelativePath.split("/"),r=(t.shift(),t.pop());t.reduce((e,t)=>(e._entries[t]||(e._entries[t]=new a(t,!1)),e._entries[t]),i)._entries[r]=new n(e.name,e,!1)}),new t(i)},getFileHandlesFromInput:()=>async function(e){const t=(await o.e(403).then(o.bind(o,403)))["FileHandle"],r=(await Promise.resolve().then(o.bind(o,121)))["FileSystemFileHandle"];return Array.from(e.files).map(e=>new r(new t(e.name,e,!1)))}});const r={INVALID:["seeking position failed.","InvalidStateError"],GONE:["A requested file or directory could not be found at the time an operation was processed.","NotFoundError"],MISMATCH:["The path supplied exists, but was not an entry of requested type.","TypeMismatchError"],MOD_ERR:["The object can not be modified in this way.","InvalidModificationError"],SYNTAX:e=>["Failed to execute 'write' on 'UnderlyingSinkBase': Invalid params passed. "+e,"SyntaxError"],SECURITY:["It was determined that certain files are unsafe for access within a Web application, or that too many calls are being made on file resources.","SecurityError"],DISALLOWED:["The request is not allowed by the user agent or the platform in the current context.","NotAllowedError"]},a={writable:globalThis.WritableStream}}}]);